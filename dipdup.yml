indexes:
  kyc:
    kind: tezos.operations
    datasources:
    - mvkt_atlasnet
    contracts:
    - kyc
    types:
    - origination
    handlers:
    - callback: kyc.origination
      pattern:
      - type: origination
        originated_contract: kyc
    - callback: kyc.set_lambda
      pattern:
      - destination: kyc
        entrypoint: setLambda
  # orderbook:
  #   kind: tezos.operations
  #   datasources:
  #   - mvkt_atlasnet
  #   contracts:
  #   - orderbook
  #   types:
  #   - transaction
  #   - origination
  #   handlers:
  #   - callback: orderbook.origination
  #     pattern:
  #     - type: origination
  #       originated_contract: orderbook
  #   - callback: orderbook.set_lambda
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: setLambda
  #   - callback: orderbook.set_currency
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: setCurrency
  #   - callback: orderbook.set_super_admin
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: setSuperAdmin
  #   - callback: orderbook.set_kyc_address
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: setKycAddress
  #   - callback: orderbook.claim_super_admin
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: claimSuperAdmin
  #   - callback: orderbook.update_metadata
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: updateMetadata
  #   - callback: orderbook.update_config
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: updateConfig
  #   - callback: orderbook.toggle_pause_entrypoint
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: togglePauseEntrypoint
  #   - callback: orderbook.transfer_fees
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: transferFees
  #   - callback: orderbook.clear_expired_orders
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: clearExpiredOrders
  #   - callback: orderbook.match_orders
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: matchOrders
  #   - callback: orderbook.place_buy_order
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: placeBuyOrder
  #   - callback: orderbook.place_sell_order
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: placeSellOrder
  #   - callback: orderbook.cancel_orders
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: cancelOrders
  #   - callback: orderbook.process_refund
  #     pattern:
  #     - destination: orderbook
  #       entrypoint: processRefund
  dodo_mav:
    kind: tezos.operations
    datasources:
    - mvkt_atlasnet
    contracts:
    - dodo_mav
    types:
    - transaction
    - origination
    handlers:
    - callback: dodo_mav.origination
      pattern:
      - type: origination
        originated_contract: dodo_mav
    - callback: dodo_mav.set_lambda
      pattern:
      - destination: dodo_mav
        entrypoint: setLambda
    - callback: dodo_mav.set_super_admin
      pattern:
      - destination: dodo_mav
        entrypoint: setSuperAdmin
    - callback: dodo_mav.claim_super_admin
      pattern:
      - destination: dodo_mav
        entrypoint: claimSuperAdmin
    - callback: dodo_mav.set_guide_price
      pattern:
      - destination: dodo_mav
        entrypoint: setGuidePrice
    - callback: dodo_mav.update_guide_price
      pattern:
      - destination: dodo_mav
        entrypoint: updateGuidePrice
    - callback: dodo_mav.update_metadata
      pattern:
      - destination: dodo_mav
        entrypoint: updateMetadata
    - callback: dodo_mav.update_config
      pattern:
      - destination: dodo_mav
        entrypoint: updateConfig
    - callback: dodo_mav.toggle_pause_entrypoint
      pattern:
      - destination: dodo_mav
        entrypoint: togglePauseEntrypoint
    - callback: dodo_mav.buy_base_token
      pattern:
      - destination: dodo_mav
        entrypoint: buyBaseToken
    - callback: dodo_mav.sell_base_token
      pattern:
      - destination: dodo_mav
        entrypoint: sellBaseToken
    - callback: dodo_mav.withdraw_quote_token
      pattern:
      - destination: dodo_mav
        entrypoint: withdrawQuoteToken
    - callback: dodo_mav.withdraw_base_token
      pattern:
      - destination: dodo_mav
        entrypoint: withdrawBaseToken
    - callback: dodo_mav.withdraw_all_quote_tokens
      pattern:
      - destination: dodo_mav
        entrypoint: withdrawAllQuoteTokens
    - callback: dodo_mav.withdraw_all_base_tokens
      pattern:
      - destination: dodo_mav
        entrypoint: withdrawAllBaseTokens
    - callback: dodo_mav.deposit_quote_token
      pattern:
      - destination: dodo_mav
        entrypoint: depositQuoteToken
    - callback: dodo_mav.deposit_base_token
      pattern:
      - destination: dodo_mav
        entrypoint: depositBaseToken

templates:
  fa2_balances_template:
    kind: tezos.token_balances
    datasources:
      - mvkt_atlasnet
    handlers:
      - callback: misc.on_balance_update
        contract: <fa2_contract>
  fa2_transfers_template:
    kind: tezos.token_transfers
    datasources:
      - mvkt_atlasnet
    handlers:
      - callback: misc.on_token_transfer
        contract: <fa2_contract>
